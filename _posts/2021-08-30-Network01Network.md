---
title: 『그림으로 배우는 Http&Network Basic』 - 1. 웹과 네트워크의 기본
author: Banny
date: 2021-08-30 19:05:00 +0900
categories: [독서, 독서_Network]
tags: [Network, 『그림으로 배우는 Http&Network Basic』]
---

## HTTP

클라이언트에서 서버까지 일련의 흐름을 결정하고 있는 것은 웹에서 HTTP(HyperText Transfer Protocol)라 불리는 프로토콜입니다.
프로토콜의 의미는 '약속'입니다. 즉, 웹은 HTTP라는 약속을 사용한 통신으로 이루어져 있습니다.

<br>

## TCP/IP 프로토콜

인터넷을 포함하여 일반적으로 사용하고 있는 네트워크는 TCP/IP라는 프로토콜에서 움직이고 있습니다. HTTP는 그 중 하나입니다. (TCP/IP는 다양한 프로토콜의 집합입니다.)

### 계층

TCP/IP에서 중요한 개념 중 하나가 계층(Layer)입니다. 애플리케이션 계층, 트랜스포트 계층, 네트워크 계층, 링크 계층의 4계층으로 나뉘어 있습니다.

<strong>애플리케이션 계층</strong>

- 유저에게 제공되는 애플리케이션에서 사용하는 통신의 움직임을 결정하고 있습니다.
  HTTP도 이 계층에 포함됩니다.

<strong>트랜스포트 계층</strong>

- 애플리케이션 계층에 네트워크로 접속되어 있는 2대의 컴퓨터 사이의 데이터 흐름을 제공합니다.
  이 계층에는 서로 다른 성질을 가진 TCP(Transmission Control Protocol)와 UDP(User Data Protocol) 두 가지 프로토콜이 있습니다.

<strong>네트워크 계층</strong>

- 인터넷 계층이라고도 불립니다. 이 계층은 네트워크 상에서 패킷의 이동을 다룹니다.

  > 패킷: 전송하는 데이터의 최소 단위

- 이 계층에서는 어떠한 경로를 거쳐 상대의 컴퓨터까지 패킷을 보낼지를 결정하기도 합니다.
  인터넷의 경우라면 상대 컴퓨터에 도달하는 동안에 여러 대의 컴퓨터랑 네트워크 기기를 거쳐서 상대방에게 배송됩니다. 그러한 여러 가지 선택지 중에서 하나의 길을 결정하는 것이 네트워크 계층의 역할입니다.

<strong>링크 계층</strong>

- 데이터 링크 계층, 네트워크 인터페이스 계층이라고도 불립니다.
  네트워크에 접속하는 하드웨어적인 면을 다룹니다. 드라이버, 케이블 등과 같이 물리적으로 보이는 부분을 포함합니다.

<br>

## TCP/IP 통신의 흐름

<center>
<img src="https://user-images.githubusercontent.com/62047302/131317944-454e6c6d-19a2-4691-8520-e7b122b0fa9b.png">
</center>

<br>

송신하는 측은 애플리케이션 계층에서부터 내려가고, 수신하는 측은 애플리케이션 계층으로 올라갑니다.

- 먼저 송신측 클라이언트의 애플리케이션 계층에서 어느 웹 페이지를 보고 싶다라는 HTTP 리퀘스트를 지시합니다.
- 그 다음에 있는 트랜스포트 계층(TCP)에서는 애플리케이션 계층에서 받은 데이터(HTTP 메시지)를 통신하기 위해 쉽게 조각내어 안내 번호와 포트 번호를 붙여 네트워크 계층에 전달합니다.
- 네트워크 계층(IP)에서는 수신지 MAC 주소를 추가해서 링크 계층에 전달합니다. 이로써 네트워크를 통해 송신할 준비가 된 것입니다.
- 수신측 서버는 링크 계층에서 데이터를 받아들여 순서대로 위의 계층에 전달합니다. 애플리케이션 계층에 도달하면 클라이언트가 발신했던 HTTP 리퀘스트 내용을 수신할 수 있습니다.

<br>

<center>
<img src="https://user-images.githubusercontent.com/62047302/131318456-afd17e69-c742-47af-922c-0dd0bbd39f58.png">
</center>

<br>

각 계층을 거칠 때는 반드시 헤더로 불리는 정보를 해당 계층마다 추가해줍니다. 반대로 수신 측에서는 각 계층을 거칠 때마다 헤더를 삭제합니다.
이렇게 정보를 감싸는 것을 캡슐화라고 합니다.

<br>

## IP / TCP / DNS

#### IP(Internet Protocol) : 배송 담당

네트워크 계층에 해당됩니다. IP 주소와는 다릅니다. IP는 프로토콜의 명칭입니다.
IP의 역할은 개개의 패킷을 상대방에게 전달하는 것입니다. 특히 IP 주소와 MAC 주소가 중요하겠습니다.
IP 주소는 각 노드에 부여된 주소를 가리키고, MAC 주소는 각 네트워크 가드에 할당된 고유의 주소입니다.

기억해야 할 것은, 실제 통신은 ARP를 이용하여 MAC 주소에서 한다는 것입니다.
통신은 MAC 주소를 쫒아갑니다. 이 때, ARP(Address Resolution Protocol)이라는 프로토콜이 사용됩니다.

> ARP는 주소를 해결하기 위한 프로토콜 중 하나인데, 수신지의 IP 주소를 바탕으로 MAC 주소를 조사할 수 있습니다.

<br>

#### TCP : 신뢰성 담당

TCP는 신뢰성 있는 바이트 스트림 서비스를 제공합니다.

> 바이트 스트림 서비스란? <br>
> 용량이 큰 데이터를 보내기 쉽게 TCP 세그먼트라고 불리는 단위 패킷으로 작게 분해하여 관리하는 것.

TCP는 결국 대용량의 데이터를 보내기 쉽게 분해하여 상대에게 보내고, 정확하게 도착했는지 확인하는 역할을 담당합니다.

<br>

<strong>Three-way Hand Shaking</strong>

1. 송신측에서는 최초 'SYN' 플래그로 상대에게 접속함과 동시에 패킷을 보내고,
2. 수신측에서는 'SYN/ACK' 플래그로 송신측에 접속함과 동시에 패킷을 수신한 사실을 전합니다.
3. 마지막으로 송신측이 'ACK' 플래그를 보내 패킷 교환이 완료되었음을 전합니다.

이 과정에서 어디선가 통신이 도중에 끊어지면 TCP는 그와 동시에 같은 수순으로 패킷을 재전송합니다.

<br>

#### DNS : 이름 해결

DNS(Domain Name System)는 응용 계층 시스템에서 도메인 이름과 IP 주소 이름 확인을 제공합니다.

1. 송신측에서 naver.com이라는 이름으로 DNS에 요청을 보내면,
2. DNS는 그에 해당하는 IP 주소를 반환해줍니다.
3. 송신측은 전달받은 IP 주소에 데이터를 전송합니다.

<br>
<br>
참고자료<br>
- <a href="http://www.yes24.com/Product/Goods/15894097">『그림으로 배우는 Http&Network Basic』 - 우에노 센</a>
