---
title: 『그림으로 배우는 Http&Network Basic』 - 5. HTTP와 연계하는 웹 서버
author: Banny
date: 2021-09-01 15:15:00 +0900
categories: [Network, 『그림으로 배우는 Http&Network Basic』]
tags: [Network, 『그림으로 배우는 Http&Network Basic』]
---

## 프록시

서버와 클라이언트의 양쪽 역할을 하는 중계 프로그램으로, 클라이언트로부터의 리퀘스트를 서버에 전송하고, 서버로부터의 리스폰스를 클라이언트에 전송합니다.

<center>
<img alt="http proxy server" src="https://user-images.githubusercontent.com/62047302/131516026-0bd36030-7623-4de7-9a1b-c00140cb3583.png">
</center>

<br>

리소스의 본체를 가진 서버를 오리진 서버라고 부릅니다.

프록시 서버를 여러 대 경유하는 것도 가능합니다. 중계할 때에는 Via 헤더 필드에 경유한 호스트 정보를 추가해야 합니다.

프록시 서버를 사용하는 이유는 나중에 설명할 캐시를 사용해서 네트워크 대역 등을 효율적으로 사용하는 것과 조직 내에 특정 웬 사이트에 대한 액세스 제한, 액세스 로그를 획득하는 정책을 철저하게 지키려는 목적으로 사용하는 경우도 있습니다.

<br>

<strong>캐싱 크록시 (Cashing Proxy)</strong>

- 프록시로 리스폰스를 중계할 때에는 프록시 서버 상에 리소스 캐시를 보존해 두는 타입의 프록시입니다.
- 프록시에 다시 같은 리소스에 리퀘스트가 온 경우, 오리진 서버로부터 리소스를 획득하는 것이 아니라 캐시를 리스폰스로서 되돌려주는 것이 있습니다.

<strong>투명 크록시 (Transparent Proxy)</strong>

- 리퀘스트와 리스폰스를 중계할 때 메시지 변경을 하지 않는 타입의 프록시입니다.
- 메시지에 변경을 가하는 프록시를 비투과 프록시라고 합니다.

<br>

## 게이트웨이

다른 서버를 중계하는 서버로, 클라이언트로부터 수신한 리퀘스트를 리소스를 보유한 서버인 것처럼 수신합니다. 경우에 따라서는 클라이언트는 상대가 게이트웨이라는 것을 알지 못하는 경우도 있습니다.

<center>
<img alt="http gateway" src="https://user-images.githubusercontent.com/62047302/131530004-56154253-b822-4c26-9d2b-16602448d391.png">
</center>

<br>

게이트웨이는 프록시와 매우 흡사하게 동작합니다.

게이트웨이의 경우에는 그 다음에 있는 서버가 HTTP 서버 이외의 서비스를 제공하는 서버가 됩니다.
예를 들면, 게이트웨이는 데이터베이스에 접속해 SQL 쿼리를 사용해서 데이터를 얻는 곳에 이용할 수 있습니다. 쇼핑 사이트 등에서 신용 카드 결제 시스템 등과 연계할 때도 사용되겠네요.

<br>

## 터널

서로 떨어진 두 대의 클라이언트와 서버 사이를 중계하며 접속을 주선하는 중계 프로그램입니다.

터널 자체는 HTTP 리퀘스트를 해석하려고 하지 않습니다. 리퀘스트를 있는 그대로 다음 서버에 중계합니다.

터널은 통신하고 있는 양쪽 끝의 접속이 끊어질 때 종료합니다.

<br>

## 캐시

캐시(Cache)는 프록시 서버와 클라이언트의 로컬 디스크에 보관된 리소스의 사본을 가리킵니다. 캐시를 사용하면 리소스를 가진 서버에의 액세스를 줄이는 것이 가능하기 때문에 통신량과 통신 시간을 절약할 수 있습니다.

프록시가 서버로부터 리스폰스를 중계하는 과정에서 프록시 서버 상에 리소스의 사본을 보존합니다.

그 덕에 같은 데이터를 몇 번이고 오리진 서버에 전송할 필요가 없습니다.

하지만 언제까지나 같은 캐시를 계속해서 사용하고 있다 보면 오리진 서버에 있는 원래 리소스가 갱신되는 경우가 있는데, 이때 캐시 서버는 갱신되기 전의 낡은 리소스를 보냅니다.
그래서 클라이언트의 요구나 캐시의 유효 기간 등에 의해 오리진 서버에 리소스를 요청하러 가기도 합니다.

캐시 서버만 캐시를 가지고 있지는 않습니다. 클라이언트 측에도 캐시가 존재하는데요, 바로 브라우저에서의 '인터넷 임시 파일'이 그렇습니다.
캐시 때문에 업데이트된 데이터가 불러와지지 않을 경우, 브라우저 상의 캐시를 삭제하는 것이 방법이 될 것입니다.

<br>
<br>
참고자료<br>
- <a href="http://www.yes24.com/Product/Goods/15894097">『그림으로 배우는 Http&Network Basic』 - 우에노 센</a>
