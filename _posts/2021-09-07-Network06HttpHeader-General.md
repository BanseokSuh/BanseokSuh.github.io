---
title: 『그림으로 배우는 Http&Network Basic』 - 6. HTTP 헤더 - 일반 헤더 필드
author: Banny
date: 2021-09-08 10:15:00 +0900
categories: [Network, 『그림으로 배우는 Http&Network Basic』]
tags: [Network, 『그림으로 배우는 Http&Network Basic』]
---

## HTTP 헤더 필드

클라이언트와 서버간의 통신에서 부가적으로 중요한 정보를 전달하는 역할을 담당하고 있습니다.
또한 메시지 바디의 크기나, 사용하고 있는 언어, 인증 정보 등을 브라우저나 서버에 제공하기 위해 사용되고 있습니다.

기본적으로 "필드 명: 필드 값"의 구조를 갖고 있습니다.

헤더 필드는 그 용도에 따라 다음의 4가지로 분류됩니다.

- <strong>일반 헤더 필드</strong>: 리퀘스트 메시지와 리스폰스 메시지 둘 다 사용되는 헤더입니다.
- <strong>리퀘스트 헤더 필드</strong>: 리퀘스트 메시지에 사용되는 헤더로, 리퀘스트의 부가 정보, 클라 정보, 리스폰스 컨텐츠에 관한 우선 순위 등을 부가합니다.
- <strong>리스폰스 헤더 필드</strong>: 리스폰스 메시지에 사용되는 헤더로, 리스폰스의 정보, 서버 정보, 클라이언트의 추가 정보 요구 등을 부가합니다.
- <strong>엔티티 헤더 필드</strong>: 리퀘스트, 리스폰스 메시지에 포함된 엔티티에 사용되는 헤더로, 컨텐츠 갱신 시간 등의 엔티티에 관한 정보를 부가합니다.

<br>

### <strong>일반 헤더 필드</strong>

> request 메시지와 response 메시지 양쪽에서 사용되는 헤더입니다.

<br>

<strong>Cache-Control</strong>

디렉티브로 불리는 명령을 사용해 캐싱 동작을 지정합니다.

여러 개의 디렉티브를 지정하는 경우에는 다음과 같이 ','로 구분합니다.

```
Cache-Control: private, max-age=0, no-cache
```

- public: 다른 유저에게도 돌려줄 수 있는 캐시를 해도 좋다는 것을 명시합니다.
- private: 리스폰스는 특정 유저만을 대상으로 하고 있다는 것을 나타냅니다.
- no-cache: 캐시로부터 오래된 리소스가 반환되는 것을 막기 위해 사용됩니다. 캐시된 리스폰스를 클라이언트가 받아들이지 않음을 나타냅니다.
  중간 캐시 서버가 오리진 서버까지 리퀘스트를 전송해야 합니다.
  서버의 리스폰스에 no-cache 디렉티브가 사용된 경우, 캐시 서버는 리소스를 저장할 수 없습니다. no-cache의 필드 값에 헤더 필드 명이 지정된 경우에는 지정된 헤더 필드만 캐시할 수 없습니다. 이 파라미터는 리스폰스 디렉티브만 사용할 수 있습니다.
- no-store: 리퀘스트 혹은 리스폰스에 기밀 정보가 포함되어 있음을 나타냅니다.
- s-maxage: 여러 유저가 이용할 수 있는 공유 캐시 서버에만 적용되는 디렉티브입니다. 이 디렉티브가 사용되는 경우에는, Expires 헤더 필드와 max-age 디렉티브는 무시됩니다.
- max-age: 리퀘스트로 max-age 디렉티브가 사용되었다면, 지정되었던 값보다 새로운 경우에는 캐시되었던 리소스를 받아들일 수 있습니다. 지정한 값이 0이면 캐시 서버는 리퀘스트를 항상 오리진 서버에 넘겨야 합니다.
  리스폰스로 사용되었다면, 캐시 서버가 유효성의 재확인을 하지 않고 리소스를 캐시에 보존해두는 최대 시간을 나타냅니다.
- min-fresh: 캐시된 리소스가 적어도 지정된 시간은 최신 상태의 것을 반환하도록 캐시 서버에 요구합니다.
- max-stale: 캐시된 리소스의 유효 기한이 끝났더라도 받아들일 수 있음을 나타냅니다.
- only-if-cached: 클라는 캐시 서버에 대해서 목적한 리소스가 로컬 캐시에 있는 경우만 리스폰스를 반환하도록 요구합니다.
- must-revalidate: 리스폰스의 캐시가 현재도 유효한지 아닌지의 여부를 오리진 서버에 조회를 요구합니다.
- proxy-revalidate: 모든 캐시 서버에 대해 이후의 리퀘스트로 해당 리스폰스를 반환할 때는 반드시 유효성 재확인을 하도록 요구합니다.
- no-transform: 리퀘스트와 리스폰스의 어느 쪽에 있어서도 캐시가 엔티티 바디의 미디어 타입을 변경하지 않도록 지정합니다.
- cache-extension 토큰: 새로운 디렉티브를 추가하고 싶을 때 extension tokens를 이용해 추가할 수 있습니다.

<strong>Connection</strong>

Connection 헤더 필드는 다음의 두 가지 역할을 합니다.

> 1. 프록시에 더 이상 전송하지 않는 헤더 필드를 지정
> 2. 지속적 접속 관리

- 필드의 값으로 더 이상 전송하지 않는 헤더의 필드명, Close, Keep-Alive를 가질 수 있습니다. 지속적 접속을 끊고 싶을 때는 Close, 맺고 싶을 때는 Keep-Alive를 지정해줍니다.

<strong>Date</strong>

- Date 헤더 필드는 HTTP 메시지를 생성한 날짜를 나타냅니다.

<strong>Pragma</strong>

- 클라이언트의 리퀘스트에서만 사용됩니다. 유알하게 no-cache값만을 사용할 수 있습니다.

<strong>Trailer</strong>

- 메시지 바디의 뒤에 기술되어 있는 헤더 필드를 미리 전달할 수 있습니다.

<strong>Transfer-Encoding</strong>

- 메시지 바디의 전송 코딩 형식을 지정하는 경우에 사용됩니다.

<strong>Upgrade</strong>

- HTTP 및 다른 프로토콜의 새로운 버전이 통신에 이용되는 경우에 사용됩니다. 지정하는 대상이 전혀 다른 통신 프로토콜이라고 하더라도 문제 없습니다.

<strong>Via</strong>

- 클라이언트와 서버 간의 리퀘스트 혹은 리스폰스 메시지의 경로를 알기 위해 사용됩니다. traceroute의 기능과 흡사합니다. 프록시를 경유하는 경우에는 반드시 부가할 필요가 있습니다.
- 각각의 프록시 서버가 자기 자신의 정보를 Via 헤더에 추가합니다. 그러함으로써 배송 경로를 추적할 수 있습니다.

<strong>Warning</strong>

- 리스폰스에 관한 추가 정보를 전달합니다. 기본적으로 캐시에 관한 문제의 경고를 유저에 전달합니다.

<!-- <br> -->
<!--
### <strong>리퀘스트 헤더 필드</strong>

??

### <strong>리스폰스 헤더 필드</strong>

??

### <strong>엔티티 헤더 필드</strong>

??

### <strong>쿠키를 위한 헤더 필드</strong> -->

<br>
<br>
참고자료<br>
- <a href="http://www.yes24.com/Product/Goods/15894097">『그림으로 배우는 Http&Network Basic』 - 우에노 센</a>
